SQL Migration Statements
============================================================

-- Statement 1
ALTER TABLE establishments 
ADD COLUMN IF NOT EXISTS opening_time TEXT DEFAULT '08:00',
ADD COLUMN IF NOT EXISTS closing_time TEXT DEFAULT '20:00',
ADD COLUMN IF NOT EXISTS lunch_start TEXT DEFAULT '12:00',
ADD COLUMN IF NOT EXISTS lunch_end TEXT DEFAULT '13:00';

-- Statement 2
ALTER TABLE appointments DROP CONSTRAINT IF EXISTS appointments_status_check;

-- Statement 3
ALTER TABLE appointments ADD CONSTRAINT appointments_status_check 
CHECK (status IN ('agendado', 'concluido', 'cancelado', 'bloqueio'));

-- Statement 4
ALTER TABLE appointments ALTER COLUMN service_id DROP NOT NULL;

-- Statement 5
ALTER TABLE appointments ALTER COLUMN cliente_id DROP NOT NULL;

